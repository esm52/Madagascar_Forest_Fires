---
title: "DataExploration"
author: "Erika Munshi"
date: "4/20/2020"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
##Reading Data In
```{r}
getwd()
library(tidyverse)
library(ggridges)
library(corrplot)
library(ggplot2)
library(GGally)
FullData <- read.csv("../ProcessedData/FullData.csv")
CropData <- read.csv("../RawData/CropData.csv")
```

## Exploring Forest Loss Dataset
```{r forest loss}
TreeLossByYear <- ggplot(FullData, aes(x = Year, y = Tree.Loss, color = as.factor(Year) )) + 
  geom_point() +
  xlab("Year") +
  ylab("Tree Loss")
TreeLossByYear

```

## Exploring Crop Productivity Data
### Crops included: cassava, maize, sweet potatoes, bananas, rice, cloves, coffee, cocoa, and vanilla

```{r}
CropPlot <- 
  ggplot(CropData, aes(x = Year, y = Value, shape = Element, color = Item)) +
  geom_point() 
print(CropPlot)
```

## Exploring Population Data

```{r}
PopulationByYear <- 
  ggplot(FullData, aes(x = Year, y = Population)) + 
  geom_point() +
  xlab("Year") +
  ylab("Population") 
PopulationByYear

PopulationByTreeLoss <- ggplot(FullData, aes(x = Population, y = Tree.Loss, color = as.factor(Year) )) + 
  geom_point() +
  xlab("Population") +
  ylab("Tree Loss")
PopulationByTreeLoss
```

## Exploring Relationship Between Crops

```{r}
correlation <- ggcorr(FullData, nbreaks = 8, digits = 2, label = TRUE, label_size = 2, hjust = .9, layout.exp = 4, palette = "PiYG")
print(correlation)

```

## Examine Relationship between Crop Cultivation Yield and Area
###Cassava <- 0.2
###Cloves <- -0.3
###Cocoa <- -0.3
###Coffee <- -1, high, negative, correlation - what would cause this?
###Maize <- 0.1
###Rice <- -0.8, high, negative, correlation - what would cause this?
###Sweet Potato <- 0.9, high positive correlation - NEED TO CHOOSE ONE FOR MODEL
###Vanilla <- 0.8, high positive correlation - NEED TO CHOOSE ONE FOR MODEL

```{r}
CassavaPlot <- ggplot(FullData, aes(x = CassavaArea, y = CassavaYield, color= as.factor(Year))) + 
  geom_point()
CassavaPlot

ClovesPlot <- ggplot(FullData, aes(x = ClovesArea, y = ClovesYield, color= as.factor(Year))) + 
  geom_point()
ClovesPlot

CocoaPlot <- ggplot(FullData, aes(x = CocoaArea, y = CocoaYield, color= as.factor(Year))) + 
  geom_point()
CocoaPlot

CoffeePlot <- ggplot(FullData, aes(x = CoffeeArea, y = CoffeeYield, color= as.factor(Year))) + 
  geom_point()
CoffeePlot #very clear example of increased agricultural intensity over time less area needed to create higher yield

MaizePlot <- ggplot(FullData, aes(x = MaizeArea, y = MaizeYield, color= as.factor(Year))) + 
  geom_point()
MaizePlot

RicePlot <- ggplot(FullData, aes(x = RiceArea, y = RiceYield, color= as.factor(Year))) + 
  geom_point()
RicePlot #really interesting pattern of increased agricultural intensity - showing learning curve over time 

SweetPotatoPlot <- ggplot(FullData, aes(x = SweetPotatoArea, y = SweetPotatoYield, color= as.factor(Year))) + 
  geom_point()
SweetPotatoPlot #shows opposite trend - relationship between area and yield appears to remain constant throughout years

VanillaPlot <- ggplot(FullData, aes(x = VanillaArea, y = VanillaYield, color= as.factor(Year))) + 
  geom_point()
VanillaPlot #shows huge jump in vanilla yield around 2005, then yield and area seem to stabilize (indicating some sort of carryign capacity)



```
## Creating Agricultural Intensity Variables
```{r}
CassavaIntensity <- FullData$CassavaYield/FullData$CassavaArea 

```

